const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pdf-viewer-BC0OFRWJ.js","assets/radix-ui-DZzGtsv0.js","assets/router-DZ-iku2p.js","assets/react-vendor-XsA0nTLH.js","assets/ui-utils-B5Uj16-2.js","assets/AnnotationLayer-BNHK1ZKC.css","assets/TextLayer-COh-se9W.css"])))=>i.map(i=>d[i]);
import{_ as e,B as s}from"./index-COAPduBl.js";import{j as a}from"./radix-ui-DZzGtsv0.js";import{r}from"./router-DZ-iku2p.js";import{u as i}from"./Index-DefD16qH.js";import{Z as t,x as n,D as l,X as o,s as c,C as d}from"./ui-utils-B5Uj16-2.js";import"./react-vendor-XsA0nTLH.js";import"./ui-features-Dv7Uepfh.js";import"./services-cUcdyCVw.js";const m=e(()=>import("./pdf-viewer-BC0OFRWJ.js"),__vite__mapDeps([0,1,2,3,4])).then(e=>(e.pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${e.pdfjs.version}/build/pdf.worker.min.mjs`,e)),u=({isOpen:u,onClose:x})=>{const{t:f}=i(),[h,p]=r.useState(0),[j,b]=r.useState(1),[v,w]=r.useState(600),[k,N]=r.useState(1),[g,y]=r.useState(!1),[_,E]=r.useState(null),C=r.useRef(null);r.useEffect(()=>{u&&!_&&(e(()=>Promise.resolve({}),__vite__mapDeps([5])),e(()=>Promise.resolve({}),__vite__mapDeps([6])),m.then(e=>{E({Document:e.Document,Page:e.Page})}))},[u,_]),r.useEffect(()=>(document.body.style.overflow=u?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[u]),r.useEffect(()=>{const e=()=>{const e=window.innerWidth,s=e<640;y(s),w(s?e-80:e<1024?e-120:800)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const L=r.useCallback(()=>{N(e=>Math.min(e+.2,3))},[]),z=r.useCallback(()=>{N(e=>Math.max(e-.2,.5))},[]),D=r.useCallback(()=>{N(1)},[]),A=r.useCallback(()=>{b(e=>Math.max(e-1,1))},[]),P=r.useCallback(()=>{b(e=>Math.min(e+1,h))},[h]);r.useEffect(()=>{if(!u)return;const e=e=>{"Escape"===e.key&&x(),g&&("ArrowLeft"===e.key&&j>1&&A(),"ArrowRight"===e.key&&j<h&&P()),"+"!==e.key&&"="!==e.key||(e.preventDefault(),L()),"-"!==e.key&&"_"!==e.key||(e.preventDefault(),z()),"0"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),D())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[u,x,j,h,g,A,P,L,z,D]),r.useEffect(()=>{const e=C.current;if(!e)return;const s=e=>{if(e.ctrlKey||e.metaKey){e.preventDefault();const s=.001*-e.deltaY;N(e=>{const a=e+s;return Math.max(.5,Math.min(3,a))})}};return e.addEventListener("wheel",s,{passive:!1}),()=>{e.removeEventListener("wheel",s)}},[]),r.useEffect(()=>{u||(b(1),N(1))},[u]);const S=r.useCallback(()=>{window.open("/Hemendra_Rupak_Biswas.pdf","_blank")},[]),M=r.useCallback(({numPages:e})=>{p(e)},[]),O=r.useMemo(()=>g?[j]:Array.from(new Array(h),(e,s)=>s+1),[g,h,j]);if(!u)return null;const T=_?.Document,I=_?.Page;return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:a.jsxs("div",{className:"relative w-full max-w-5xl max-h-[90vh] bg-background rounded-lg shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[a.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 bg-background/95 backdrop-blur border-b",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-bold",children:f("ui.resume")}),g&&h>0&&a.jsxs("span",{className:"text-sm text-muted-foreground",children:[j," / ",h]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"hidden sm:flex items-center gap-1 border rounded-md p-1",children:[a.jsx(s,{onClick:z,variant:"ghost",size:"icon",className:"h-8 w-8",title:f("ui.zoomOut"),"aria-label":f("ui.zoomOut"),children:a.jsx(t,{className:"h-4 w-4"})}),a.jsxs(s,{onClick:D,variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",title:f("ui.resetZoom"),"aria-label":f("ui.resetZoom"),children:[Math.round(100*k),"%"]}),a.jsx(s,{onClick:L,variant:"ghost",size:"icon",className:"h-8 w-8",title:f("ui.zoomIn"),"aria-label":f("ui.zoomIn"),children:a.jsx(n,{className:"h-4 w-4"})})]}),a.jsxs(s,{onClick:S,variant:"outline",size:"sm",className:"gap-2","aria-label":f("ui.download"),children:[a.jsx(l,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:f("ui.download")})]}),a.jsx(s,{onClick:x,variant:"ghost",size:"icon",className:"rounded-full","aria-label":"Close",children:a.jsx(o,{className:"h-5 w-5"})})]})]}),a.jsx("div",{ref:C,className:"flex-1 overflow-auto bg-gray-100 dark:bg-gray-900 p-4",style:{touchAction:"auto",overscrollBehavior:"contain",WebkitOverflowScrolling:"touch"},children:T&&I?a.jsx("div",{className:"inline-block min-w-full",children:a.jsx("div",{className:"flex flex-col items-center gap-4",children:a.jsx(T,{file:"/Hemendra_Rupak_Biswas.pdf",onLoadSuccess:M,externalLinkTarget:"_blank",loading:a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}),error:a.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[a.jsx("p",{className:"text-red-500 mb-4",children:f("ui.failedToLoadPDF")}),a.jsx(s,{onClick:S,variant:"outline",children:f("ui.openInNewTab")})]}),children:O.map(e=>a.jsx("div",{className:"mb-4 shadow-lg",children:a.jsx(I,{pageNumber:e,width:v*k,renderTextLayer:!0,renderAnnotationLayer:!0,loading:a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})},`page_${e}`))})})}):a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:f("ui.loadingPDFViewer")})]})})}),g&&h>0&&a.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-4 bg-background/95 backdrop-blur border-t",children:[a.jsxs(s,{onClick:A,disabled:1===j,variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(c,{className:"h-4 w-4"}),f("ui.previous")]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-sm font-medium",children:[j," / ",h]})}),a.jsxs(s,{onClick:P,disabled:j===h,variant:"outline",size:"sm",className:"gap-2",children:[f("ui.next"),a.jsx(d,{className:"h-4 w-4"})]})]})]})})};export{u as default};
