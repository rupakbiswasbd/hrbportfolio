<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Page Not Found - Rupak Portfolio</title>
    <script>
      // Redirect valid sections and project URLs
      (function () {
        var path = window.location.pathname;

        // Don't redirect if already at root
        if (path === "/" || path === "/index.html") {
          return;
        }

        // Check if it's a project URL (e.g., /projects/mybl)
        var projectMatch = path.match(/^\/projects\/([a-z0-9-]+)$/i);
        if (projectMatch) {
          // Redirect to home with project slug in state
          var projectSlug = projectMatch[1];
          // Store the project slug in sessionStorage
          sessionStorage.setItem("openProject", projectSlug);
          window.location.replace("/#projects");
          return;
        }

        // Special handling for separate pages (not hash sections)
        var separatePages = ["tools"];
        var page = path.replace(/^\//, "").toLowerCase();

        // If it's a separate page route, redirect to index.html with the path
        if (separatePages.indexOf(page) !== -1) {
          sessionStorage.setItem("redirect", path);
          window.location.replace("/index.html");
          return;
        }

        // List of valid hash sections
        var validSections = [
          "about",
          "skills",
          "projects",
          "experience",
          "contact",
        ];

        // Remove leading slash
        var section = path.replace(/^\//, "").toLowerCase();

        // Only redirect if it's a valid hash section
        if (validSections.indexOf(section) !== -1) {
          window.location.replace("/#" + section);
        } else {
          // Show 404 page for invalid sections
          document.addEventListener("DOMContentLoaded", function () {
            document.body.innerHTML =
              '<div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; background-color: #f3f4f6; font-family: system-ui, -apple-system, sans-serif;"><div style="text-align: center; padding: 2rem;"><h1 style="font-size: 4rem; font-weight: bold; margin-bottom: 1rem; color: #111827;">404</h1><p style="font-size: 1.5rem; color: #6b7280; margin-bottom: 1.5rem;">Oops! Page not found</p><a href="/" style="color: #3b82f6; text-decoration: underline;">Return to Home</a></div></div>';
          });
        }
      })();
    </script>
  </head>
  <body></body>
</html>
